<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<link rel="STYLESHEET" href="lib.css" type='text/css'>
<link rel="SHORTCUT ICON" href="../icons/pyfav.gif">
<link rel='start' href='../index.html' title='Python Documentation Index'>
<link rel="first" href="lib.html" title='Python Library Reference'>
<link rel='contents' href='contents.html' title="Contents">
<link rel='index' href='genindex.html' title='Index'>
<link rel='last' href='about.html' title='About this document...'>
<link rel='help' href='about.html' title='About this document...'>
<LINK REL="next" href="module-dumbdbm.html">
<LINK REL="prev" href="module-whichdb.html">
<LINK REL="parent" href="someos.html">
<LINK REL="next" href="bsddb-objects.html">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name='aesop' content='information'>
<META NAME="description" CONTENT="bsddb -- Interface to Berkeley DB library">
<META NAME="keywords" CONTENT="lib">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<title>7.13 bsddb -- Interface to Berkeley DB library</title>
</head>
<body>
<DIV CLASS="navigation">
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><a rel="prev" title="7.12 whichdb  " 
  href="module-whichdb.html"><img src='../icons/previous.gif'
  border='0' height='32'  alt='Previous Page' width='32'></A></td>
<td><a rel="parent" title="7. Optional Operating System" 
  href="someos.html"><img src='../icons/up.gif'
  border='0' height='32'  alt='Up One Level' width='32'></A></td>
<td><a rel="next" title="7.13.1 Hash, BTree and" 
  href="bsddb-objects.html"><img src='../icons/next.gif'
  border='0' height='32'  alt='Next Page' width='32'></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td><a rel="contents" title="Table of Contents" 
  href="contents.html"><img src='../icons/contents.gif'
  border='0' height='32'  alt='Contents' width='32'></A></td>
<td><a href="modindex.html" title="Module Index"><img src='../icons/modules.gif'
  border='0' height='32'  alt='Module Index' width='32'></a></td>
<td><a rel="index" title="Index" 
  href="genindex.html"><img src='../icons/index.gif'
  border='0' height='32'  alt='Index' width='32'></A></td>
</tr></table>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="module-whichdb.html">7.12 whichdb  </A>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="someos.html">7. Optional Operating System</A>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="bsddb-objects.html">7.13.1 Hash, BTree and</A>
<br><hr>
</DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION0091300000000000000000">
7.13 <tt class="module">bsddb</tt> --
         Interface to Berkeley DB library</A>
</H1>

<P>
  
<p class="availability">Availability: <span
 class="platform">Unix, Windows</span>.</p>

<P>
The <tt class="module">bsddb</tt> module provides an interface to the Berkeley DB
library.  Users can create hash, btree or record based library files
using the appropriate open call. Bsddb objects behave generally like
dictionaries.  Keys and values must be strings, however, so to use
other objects as keys or to store other kinds of objects the user must
serialize them somehow, typically using marshal.dumps or pickle.dumps.

<P>
Starting with Python 2.3 the <tt class="module">bsddb</tt> module requires the
Berkeley DB library version 3.1 or later (it is known to work with 3.1
thru 4.1 at the time of this writing).

<P>
<div class="seealso">
  <p class="heading"><b>See Also:</b></p>

  <dl compact class="seeurl">
    <dt><a href="http://pybsddb.sourceforge.net/"
        class="url">http://pybsddb.sourceforge.net/</a>
    <dd>Website with documentation
  for the new python Berkeley DB interface that closely mirrors the 
  sleepycat object oriented interface provided in Berkeley DB 3 and 4.
  </dl>
  <dl compact class="seeurl">
    <dt><a href="http://www.sleepycat.com/"
        class="url">http://www.sleepycat.com/</a>
    <dd>Sleepycat Software produces the
  modern Berkeley DB library.
  </dl>
</div>

<P>
The following is a description of the legacy <tt class="module">bsddb</tt> interface
compatible with the old python bsddb module.  For details about the more
modern Db and DbEnv object oriented interface see the above mentioned
pybsddb URL.

<P>
<div class="warning"><b class="label">Warning:</b>

This legacy interface is not thread safe in python 2.3.x or earlier.  
Data corruption, core dumps or deadlocks may occur if you attempt 
multi-threaded access.  You must use the modern pybsddb interface 
linked to above if you need multi-threaded or multi-process database 
access.
</div>

<P>
The <tt class="module">bsddb</tt> module defines the following functions that create
objects that access the appropriate type of Berkeley DB file.  The
first two arguments of each function are the same.  For ease of
portability, only the first two arguments should be used in most
instances.

<P>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><a name="l2h-2600"><tt class="function">hashopen</tt></a></b>(</nobr></td>
  <td><var>filename</var><big>[</big><var>, flag</var><big>[</big><var>,
                           mode</var><big>[</big><var>, bsize</var><big>[</big><var>,
                           ffactor</var><big>[</big><var>, nelem</var><big>[</big><var>,
                           cachesize</var><big>[</big><var>, hash</var><big>[</big><var>,
                           lorder</var><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big>)</td></tr></table>
<dd>
Open the hash format file named <var>filename</var>.  Files never intended
to be preserved on disk may be created by passing <code>None</code> as the 
<var>filename</var>.  The optional
<var>flag</var> identifies the mode used to open the file.  It may be
"<tt class="character">r</tt>" (read only, default), "<tt class="character">w</tt>" (read-write) ,
"<tt class="character">c</tt>" (read-write - create if necessary) or
"<tt class="character">n</tt>" (read-write - truncate to zero length).  The other
arguments are rarely used and are just passed to the low-level
<tt class="cfunction">dbopen()</tt> function.  Consult the Berkeley DB documentation
for their use and interpretation.
</dl>

<P>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><a name="l2h-2601"><tt class="function">btopen</tt></a></b>(</nobr></td>
  <td><var>filename</var><big>[</big><var>, flag</var><big>[</big><var>,
mode</var><big>[</big><var>, btflags</var><big>[</big><var>, cachesize</var><big>[</big><var>, maxkeypage</var><big>[</big><var>,
minkeypage</var><big>[</big><var>, psize</var><big>[</big><var>, lorder</var><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big>)</td></tr></table>
<dd>

<P>
Open the btree format file named <var>filename</var>.  Files never intended 
to be preserved on disk may be created by passing <code>None</code> as the 
<var>filename</var>.  The optional
<var>flag</var> identifies the mode used to open the file.  It may be
"<tt class="character">r</tt>" (read only, default), "<tt class="character">w</tt>" (read-write),
"<tt class="character">c</tt>" (read-write - create if necessary) or
"<tt class="character">n</tt>" (read-write - truncate to zero length).  The other
arguments are rarely used and are just passed to the low-level dbopen
function.  Consult the Berkeley DB documentation for their use and
interpretation.
</dl>

<P>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><a name="l2h-2602"><tt class="function">rnopen</tt></a></b>(</nobr></td>
  <td><var>filename</var><big>[</big><var>, flag</var><big>[</big><var>, mode</var><big>[</big><var>,
rnflags</var><big>[</big><var>, cachesize</var><big>[</big><var>, psize</var><big>[</big><var>, lorder</var><big>[</big><var>,
reclen</var><big>[</big><var>, bval</var><big>[</big><var>, bfname</var><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big><big>]</big>)</td></tr></table>
<dd>

<P>
Open a DB record format file named <var>filename</var>.  Files never intended 
to be preserved on disk may be created by passing <code>None</code> as the 
<var>filename</var>.  The optional
<var>flag</var> identifies the mode used to open the file.  It may be
"<tt class="character">r</tt>" (read only, default), "<tt class="character">w</tt>" (read-write),
"<tt class="character">c</tt>" (read-write - create if necessary) or
"<tt class="character">n</tt>" (read-write - truncate to zero length).  The other
arguments are rarely used and are just passed to the low-level dbopen
function.  Consult the Berkeley DB documentation for their use and
interpretation.
</dl>

<P>
<div class="seealso">
  <p class="heading"><b>See Also:</b></p>

  <dl compact class="seemodule">
    <dt>Module <b><tt class="module"><a href="module-dbhash.html">dbhash</a></tt>:</b>
    <dd>DBM-style interface to the <tt class="module">bsddb</tt>.
  </dl>
</div>

<P>
<div class="note"><b class="label">Note:</b>
Beginning in 2.3 some Unix versions of Python may have a <tt class="module">bsddb185</tt>
module.  This is present <i>only</i> to allow backwards compatibility with
systems which ship with the old Berkeley DB 1.85 database library.  The
<tt class="module">bsddb185</tt> module should never be used directly in new code.
</div>

<P>

<p><hr>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></a>

<UL CLASS="ChildLinks">
<LI><A href="bsddb-objects.html">7.13.1 Hash, BTree and Record Objects</a>
</ul>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation">
<p><hr>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><a rel="prev" title="7.12 whichdb  " 
  rel="prev" title="7.12 whichdb  " 
  href="module-whichdb.html"><img src='../icons/previous.gif'
  border='0' height='32'  alt='Previous Page' width='32'></A></td>
<td><a rel="parent" title="7. Optional Operating System" 
  rel="parent" title="7. Optional Operating System" 
  href="someos.html"><img src='../icons/up.gif'
  border='0' height='32'  alt='Up One Level' width='32'></A></td>
<td><a rel="next" title="7.13.1 Hash, BTree and" 
  rel="next" title="7.13.1 Hash, BTree and" 
  href="bsddb-objects.html"><img src='../icons/next.gif'
  border='0' height='32'  alt='Next Page' width='32'></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td><a rel="contents" title="Table of Contents" 
  rel="contents" title="Table of Contents" 
  href="contents.html"><img src='../icons/contents.gif'
  border='0' height='32'  alt='Contents' width='32'></A></td>
<td><a href="modindex.html" title="Module Index"><img src='../icons/modules.gif'
  border='0' height='32'  alt='Module Index' width='32'></a></td>
<td><a rel="index" title="Index" 
  rel="index" title="Index" 
  href="genindex.html"><img src='../icons/index.gif'
  border='0' height='32'  alt='Index' width='32'></A></td>
</tr></table>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="module-whichdb.html">7.12 whichdb  </A>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="someos.html">7. Optional Operating System</A>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="bsddb-objects.html">7.13.1 Hash, BTree and</A>
<hr>
<span class="release-info">Release 2.3.2, documentation updated on October 3, 2003.</span>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
See <i><a href="about.html">About this document...</a></i> for information on suggesting changes.
</ADDRESS>
</BODY>
</HTML>
