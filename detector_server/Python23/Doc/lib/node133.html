<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<link rel="STYLESHEET" href="lib.css" type='text/css'>
<link rel="SHORTCUT ICON" href="../icons/pyfav.gif">
<link rel='start' href='../index.html' title='Python Documentation Index'>
<link rel="first" href="lib.html" title='Python Library Reference'>
<link rel='contents' href='contents.html' title="Contents">
<link rel='index' href='genindex.html' title='Index'>
<link rel='last' href='about.html' title='About this document...'>
<link rel='help' href='about.html' title='About this document...'>
<LINK REL="next" HREF="node134.html">
<LINK REL="prev" href="module-doctest.html">
<LINK REL="parent" href="module-doctest.html">
<LINK REL="next" HREF="node134.html">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name='aesop' content='information'>
<META NAME="description" CONTENT="Normal Usage">
<META NAME="keywords" CONTENT="lib">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<title>5.2.1 Normal Usage</title>
</head>
<body>
<DIV CLASS="navigation">
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><a rel="prev" title="5.2 doctest  " 
  href="module-doctest.html"><img src='../icons/previous.gif'
  border='0' height='32'  alt='Previous Page' width='32'></A></td>
<td><a rel="parent" title="5.2 doctest  " 
  href="module-doctest.html"><img src='../icons/up.gif'
  border='0' height='32'  alt='Up One Level' width='32'></A></td>
<td><a rel="next" title="5.2.2 Which Docstrings Are" 
  HREF="node134.html"><img src='../icons/next.gif'
  border='0' height='32'  alt='Next Page' width='32'></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td><a rel="contents" title="Table of Contents" 
  href="contents.html"><img src='../icons/contents.gif'
  border='0' height='32'  alt='Contents' width='32'></A></td>
<td><a href="modindex.html" title="Module Index"><img src='../icons/modules.gif'
  border='0' height='32'  alt='Module Index' width='32'></a></td>
<td><a rel="index" title="Index" 
  href="genindex.html"><img src='../icons/index.gif'
  border='0' height='32'  alt='Index' width='32'></A></td>
</tr></table>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="module-doctest.html">5.2 doctest  </A>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="module-doctest.html">5.2 doctest  </A>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" HREF="node134.html">5.2.2 Which Docstrings Are</A>
<br><hr>
</DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION007210000000000000000">
5.2.1 Normal Usage</A>
</H2>

<P>
In normal use, end each module <tt class="module">M</tt> with:

<P>
<div class="verbatim"><pre>
def _test():
    import doctest, M           # replace M with your module's name
    return doctest.testmod(M)   # ditto

if __name__ == "__main__":
    _test()
</pre></div>

<P>
If you want to test the module as the main module, you don't need to
pass M to <tt class="function">testmod()</tt>; in this case, it will test the current
module.

<P>
Then running the module as a script causes the examples in the docstrings
to get executed and verified:

<P>
<div class="verbatim"><pre>
python M.py
</pre></div>

<P>
This won't display anything unless an example fails, in which case the
failing example(s) and the cause(s) of the failure(s) are printed to stdout,
and the final line of output is <code>'Test failed.'</code>.

<P>
Run it with the <b class="programopt">-v</b> switch instead:

<P>
<div class="verbatim"><pre>
python M.py -v
</pre></div>

<P>
and a detailed report of all examples tried is printed to standard
output, along with assorted summaries at the end.

<P>
You can force verbose mode by passing <code>verbose=1</code> to
<tt class="function">testmod()</tt>, or
prohibit it by passing <code>verbose=0</code>.  In either of those cases,
<code>sys.argv</code> is not examined by <tt class="function">testmod()</tt>.

<P>
In any case, <tt class="function">testmod()</tt> returns a 2-tuple of ints <code>(<var>f</var>,
<var>t</var>)</code>, where <var>f</var> is the number of docstring examples that
failed and <var>t</var> is the total number of docstring examples
attempted.

<P>

<DIV CLASS="navigation">
<p><hr>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><a rel="prev" title="5.2 doctest  " 
  rel="prev" title="5.2 doctest  " 
  href="module-doctest.html"><img src='../icons/previous.gif'
  border='0' height='32'  alt='Previous Page' width='32'></A></td>
<td><a rel="parent" title="5.2 doctest  " 
  rel="parent" title="5.2 doctest  " 
  href="module-doctest.html"><img src='../icons/up.gif'
  border='0' height='32'  alt='Up One Level' width='32'></A></td>
<td><a rel="next" title="5.2.2 Which Docstrings Are" 
  rel="next" title="5.2.2 Which Docstrings Are" 
  HREF="node134.html"><img src='../icons/next.gif'
  border='0' height='32'  alt='Next Page' width='32'></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td><a rel="contents" title="Table of Contents" 
  rel="contents" title="Table of Contents" 
  href="contents.html"><img src='../icons/contents.gif'
  border='0' height='32'  alt='Contents' width='32'></A></td>
<td><a href="modindex.html" title="Module Index"><img src='../icons/modules.gif'
  border='0' height='32'  alt='Module Index' width='32'></a></td>
<td><a rel="index" title="Index" 
  rel="index" title="Index" 
  href="genindex.html"><img src='../icons/index.gif'
  border='0' height='32'  alt='Index' width='32'></A></td>
</tr></table>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="module-doctest.html">5.2 doctest  </A>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="module-doctest.html">5.2 doctest  </A>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" HREF="node134.html">5.2.2 Which Docstrings Are</A>
<hr>
<span class="release-info">Release 2.3.2, documentation updated on October 3, 2003.</span>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
See <i><a href="about.html">About this document...</a></i> for information on suggesting changes.
</ADDRESS>
</BODY>
</HTML>
